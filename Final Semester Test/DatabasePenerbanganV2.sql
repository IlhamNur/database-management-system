CREATE TABLE AIRWAYS(
KdAirways nvarchar(20) NOT NULL PRIMARY KEY,
Nama nvarchar (20),
THBerdiri int,
Pemilik nvarchar (20),
Market float,
Telp bigint,
)
INSERT AIRWAYS VALUES('GIA', 'Garuda Indonesia', 1970, 'Negara', 0.50, 021889977)
INSERT AIRWAYS VALUES('BTK', 'Batik Air', 2000, 'Swasta', 0.20, 021237012)
INSERT AIRWAYS VALUES('JT', 'Lion Air', 1995, 'Swasta', 0.30, 021464656)

CREATE TABLE KOTA(
IdKota nvarchar(20) NOT NULL PRIMARY KEY,
Kota nvarchar(20),
)
INSERT KOTA VALUES('SL', 'Surakarta')
INSERT KOTA VALUES('YG', 'Yogyakarta')
INSERT KOTA VALUES('DP', 'Denpasar')
INSERT KOTA VALUES('JAK', 'Jakarta')
INSERT KOTA VALUES('SMR', 'Semarang')
INSERT KOTA VALUES('SBY', 'Surabaya')
INSERT KOTA VALUES('BDG', 'Bandung')

CREATE TABLE PESAWAT(
NoLambung nvarchar(20) NOT NULL PRIMARY KEY,
ThPengadaan int, 
Jenis nvarchar(20),
Kapasitas int,
JamPenggunaan bigint,
KdAirways nvarchar(20),
FOREIGN KEY (KdAirways) REFERENCES AIRWAYS (KdAirways)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT PESAWAT VALUES('PK-101', 2000, 'AirBus', 300, 623589, 'JT')
INSERT PESAWAT VALUES('PK-102', 2005, 'ATR', 10, 89006, 'BTK')
INSERT PESAWAT VALUES('PK-103', 2015, 'AirBus', 250, 64262, 'GIA')
INSERT PESAWAT VALUES('PK-104', 2019, 'AirBus', 300, 73848, 'GIA')
INSERT PESAWAT VALUES('PK-114', 2009, 'Boeing', 225, 98458548, 'GIA')
INSERT PESAWAT VALUES('PK-105', 2019, 'AirBus', 400, 64647, 'JT')
INSERT PESAWAT VALUES('PK-106', 2020, 'Boeing', 300, 6654, 'JT')
INSERT PESAWAT VALUES('PK-107', 1996, 'Boeing', 400, 1234569, 'BTK')

CREATE TABLE BANDARA(
KdBandara nvarchar(20) NOT NULL PRIMARY KEY,
ThMulaiOperasi int,
Nama nvarchar(20),
LuasArea int,
JmlTerminal int,
JmlGate int,
Kapasitas bigint,
JenisBandara nvarchar(20),
IdKota nvarchar(20),
FOREIGN KEY (IdKota) REFERENCES KOTA (IdKota)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT BANDARA VALUES('SOC', 1990, 'Adisumarmo', 50, 2, 6, 5000, 'Nasional', 'SL')
INSERT BANDARA VALUES('JOG', 1980, 'Adisucipto', 90, 2, 8, 7000, 'International', 'YG')
INSERT BANDARA VALUES('YIA', 2018, 'Yogya International', 220, 3, 20, 20000, 'International', 'YG')
INSERT BANDARA VALUES('SRG', 2000, 'Ahmad Yani', 35, 2, 4, 4000, 'Nasional', 'SMR')
INSERT BANDARA VALUES('CGK', 1965, 'Soekarno Hatta', 207, 4, 20, 50000, 'International', 'JAK')
INSERT BANDARA VALUES('BDO', 1999, 'Husein Sastranegara', 40, 2, 5, 4500, 'Nasional', 'BDG')
INSERT BANDARA VALUES('SUB', 1975, 'Juanda', 150, 3, 9, 10000, 'International', 'SBY')
INSERT BANDARA VALUES('DEN', 1980, 'Ngurah Rai', 330, 4, 18, 30000, 'International', 'DP')
INSERT BANDARA VALUES('HLP', 1945, 'Halim Perdanakusuma', 55, 2, 4, 5000, 'International', 'JAK')

CREATE TABLE BANDARA_CABANG_AIRWAYS(
KdAirways nvarchar(20) NOT NULL,
KdBandara nvarchar(20) NOT NULL,
PRIMARY KEY (KdAirways, KdBandara),
ThDibuka int,
FOREIGN KEY (KdAirways) REFERENCES AIRWAYS (KdAirways)
ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (KdBandara) REFERENCES BANDARA (KdBandara)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT BANDARA_CABANG_AIRWAYS VALUES('GIA', 'SOC', 2000)
INSERT BANDARA_CABANG_AIRWAYS VALUES('GIA', 'CGK', 1990)
INSERT BANDARA_CABANG_AIRWAYS VALUES('GIA', 'JOG', 1995)
INSERT BANDARA_CABANG_AIRWAYS VALUES('GIA', 'YIA', 2018)
INSERT BANDARA_CABANG_AIRWAYS VALUES('GIA', 'SUB', 1995)
INSERT BANDARA_CABANG_AIRWAYS VALUES('BTK', 'CGK', 2007)
INSERT BANDARA_CABANG_AIRWAYS VALUES('BTK', 'YIA', 2020)
INSERT BANDARA_CABANG_AIRWAYS VALUES('BTK', 'SUB', 2000)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'CGK', 2000)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'YIA', 2018)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'SUB', 2000)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'DEN', 2000)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'SOC', 2001)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'HLP', 2016)
INSERT BANDARA_CABANG_AIRWAYS VALUES('JT', 'JOG', 2000)

CREATE TABLE KOTA_CABANG_AIRWAYS(
KdAirways nvarchar(20) NOT NULL,
Kota nvarchar(20) NOT NULL,
PRIMARY KEY (KdAirways, Kota),
FOREIGN KEY (KdAirways) REFERENCES AIRWAYS (KdAirways)
ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (Kota) REFERENCES KOTA (IdKota)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT KOTA_CABANG_AIRWAYS VALUES('JT', 'SL')
INSERT KOTA_CABANG_AIRWAYS VALUES('JT', 'YG')
INSERT KOTA_CABANG_AIRWAYS VALUES('JT', 'DP')
INSERT KOTA_CABANG_AIRWAYS VALUES('JT', 'JAK')
INSERT KOTA_CABANG_AIRWAYS VALUES('JT', 'SMR')
INSERT KOTA_CABANG_AIRWAYS VALUES('BTK', 'SBY')
INSERT KOTA_CABANG_AIRWAYS VALUES('BTK', 'BDG')
INSERT KOTA_CABANG_AIRWAYS VALUES('GIA', 'SL')
INSERT KOTA_CABANG_AIRWAYS VALUES('GIA', 'YG')
INSERT KOTA_CABANG_AIRWAYS VALUES('GIA', 'JAK')
INSERT KOTA_CABANG_AIRWAYS VALUES('GIA', 'DP')

CREATE TABLE RUTE(
KdRute nvarchar(20) NOT NULL PRIMARY KEY,
JenisRute nvarchar(20),
IdKotaDari nvarchar(20),
IdKotaTujuan nvarchar(20),
FOREIGN KEY (IdKotaDari) REFERENCES KOTA (IdKota),
FOREIGN KEY (IdKotaTujuan) REFERENCES KOTA (IdKota),
)
INSERT RUTE VALUES('R001', 'Direct', 'JAK', 'DP')
INSERT RUTE VALUES('R002', 'Indirect', 'SL', 'DP')
INSERT RUTE VALUES('R003', 'Indirect', 'SMR', 'DP')
INSERT RUTE VALUES('R004', 'Direct', 'YG', 'JAK')
INSERT RUTE VALUES('R005', 'Direct', 'SL', 'JAK')
INSERT RUTE VALUES('R006', 'Direct', 'JAK', 'BDG')
INSERT RUTE VALUES('R007', 'Direct', 'SMR', 'JAK')
INSERT RUTE VALUES('R008', 'Direct', 'DP', 'SBY')

CREATE TABLE TERDIRI_RUTE(
KdRute nvarchar(20) NOT NULL,
KdRuteDigunakan nvarchar(20) NOT NULL,
PRIMARY KEY (KdRute, KdRuteDigunakan),
FOREIGN KEY (KdRute) REFERENCES RUTE (KdRute),
FOREIGN KEY (KdRuteDigunakan) REFERENCES RUTE (KdRute),
)
INSERT TERDIRI_RUTE VALUES('R002', 'R005')
INSERT TERDIRI_RUTE VALUES('R002', 'R001')
INSERT TERDIRI_RUTE VALUES('R003', 'R007')
INSERT TERDIRI_RUTE VALUES('R003', 'R001')

CREATE TABLE LAYANAN(
KdAirways nvarchar(20) NOT NULL,
KdRute nvarchar(20) NOT NULL,
RuteTerbeli int,
PRIMARY KEY (KdAirways, KdRute),
FOREIGN KEY (KdAirways) REFERENCES AIRWAYS (KdAirways)
ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (KdRute) REFERENCES RUTE (KdRute)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT LAYANAN VALUES('GIA', 'R001', 800)
INSERT LAYANAN VALUES('GIA', 'R002', 70)
INSERT LAYANAN VALUES('GIA', 'R005', 300)
INSERT LAYANAN VALUES('JT', 'R001', 200)
INSERT LAYANAN VALUES('JT', 'R002', 150)
INSERT LAYANAN VALUES('JT', 'R003', 135)
INSERT LAYANAN VALUES('JT', 'R004', 300)
INSERT LAYANAN VALUES('JT', 'R007', 500)
INSERT LAYANAN VALUES('BTK', 'R001', 1000)
INSERT LAYANAN VALUES('BTK', 'R006', 30)

CREATE TABLE PENERBANGAN(
KdPenerbangan nvarchar(20) NOT NULL PRIMARY KEY,
MulaiBoarding time,
WaktuTakeOff time,
WaktuLanding time,
KdBandaraDari nvarchar(20),
KdBandaraTujuan nvarchar(20),
KdPesawat nvarchar(20),
FOREIGN KEY (KdBandaraDari) REFERENCES BANDARA (KdBandara),
FOREIGN KEY (KdBandaraTujuan) REFERENCES BANDARA (KdBandara),
FOREIGN KEY (KdPesawat) REFERENCES PESAWAT (NoLambung)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT PENERBANGAN VALUES('GIA 234', '10:00', '10:45', '13:00', 'CGK', 'DEN', 'PK-103')
INSERT PENERBANGAN VALUES('GIA 356', '06:00', '06:45', '07:15', 'SOC', 'CGK', 'PK-103')
INSERT PENERBANGAN VALUES('GIA 123', '07:00', '08:00', '09:15', 'SOC', 'CGK', 'PK-104')
INSERT PENERBANGAN VALUES('GIA 543', '09:00', '10:00', '11:30', 'SOC', 'CGK', 'PK-114')
INSERT PENERBANGAN VALUES('JT 334', '08:30', '09:20', '10:10', 'SRG', 'CGK', 'PK-106')
INSERT PENERBANGAN VALUES('JT 706', '12:00', '13:00', '14:25', 'CGK', 'DEN', 'PK-101')
INSERT PENERBANGAN VALUES('JT 650', '07:15', '08:00', '09:00', 'YIA', 'CGK', 'PK-101')
INSERT PENERBANGAN VALUES('JT 330', '06:30', '07:30', '08:45', 'JOG', 'CGK', 'PK-105')
INSERT PENERBANGAN VALUES('BTK 100', '06:00', '07:00', '09:45', 'CGK', 'DEN', 'PK-102')
INSERT PENERBANGAN VALUES('BTK 110', '13:00', '13:30', '13:49', 'HLP', 'BDO', 'PK-107')
INSERT PENERBANGAN VALUES('JT 890', '19:00', '20:00', '20:30', 'DEN', 'SUB', 'PK-103')

CREATE TABLE TERBANG_RUTE(
KdPenerbangan nvarchar(20) NOT NULL,
KdRute nvarchar(20) NOT NULL,
PRIMARY KEY (KdPenerbangan, KdRute),
FOREIGN KEY (KdPenerbangan) REFERENCES PENERBANGAN (KdPenerbangan)
ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY (KdRute) REFERENCES RUTE (KdRute)
ON DELETE CASCADE ON UPDATE CASCADE,
)
INSERT TERBANG_RUTE VALUES('GIA 234',  'R001')
INSERT TERBANG_RUTE VALUES('GIA 234',  'R002')
INSERT TERBANG_RUTE VALUES('GIA 356',  'R005')
INSERT TERBANG_RUTE VALUES('GIA 356',  'R002')
INSERT TERBANG_RUTE VALUES('GIA 123',  'R005')
INSERT TERBANG_RUTE VALUES('GIA 543',  'R005')
INSERT TERBANG_RUTE VALUES('JT 334',  'R007')
INSERT TERBANG_RUTE VALUES('JT 334',  'R003')
INSERT TERBANG_RUTE VALUES('JT 706',  'R001')
INSERT TERBANG_RUTE VALUES('JT 706',  'R003')
INSERT TERBANG_RUTE VALUES('JT 650',  'R004')
INSERT TERBANG_RUTE VALUES('JT 330',  'R004')
INSERT TERBANG_RUTE VALUES('BTK 100',  'R001')
INSERT TERBANG_RUTE VALUES('BTK 110',  'R006')